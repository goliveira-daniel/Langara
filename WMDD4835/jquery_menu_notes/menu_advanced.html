
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Accessible Menu</title>

	<link rel="stylesheet" href="icomoon/style.css">

	<link rel="stylesheet" href="menu.css">

	<!-- jQuery Library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<script>

		//Make sure the document is ready before modifying
		$(document).ready(function(){	

			// Select any element with a class that contains the word 'button'
			$("[class*='button']").on("click", function(){

				// Use variables to refer to the jQuery objects.  
					// $(this) is referring to the button that was clicked.
					var button = $(this);
					// The menu <ul> comes immediately after the button <a>, so we can use .next() to target it. 
					var menu = button.next();

				// Toggle the 'expanded' class for the menu
				menu.toggleClass("expanded");

				// Check the value of the aria-expanded attribute.
				if ( button.attr("aria-expanded") == "true")

					{
						// Change the value of the aria-exanded attribute
						button.attr("aria-expanded", "false");
					}

					else

					{
						// Change the value of the aria-exanded attribute
						button.attr("aria-expanded", "true");
					}
				
				// Close submenus
					// In this menu, find all submenus and remove expanded class
					menu.find(".sub-menu").removeClass("expanded");
					// In this menu, find all submenu buttons and set aria-exapnded to false
					menu.find(".sub-menu-button").attr("aria-expanded", "false");

			});

		});

	</script>

</head>
<body>
	
	<header>	

		<h1>Accessible Menu Tutorial</h1>

		<nav>		

			<!-- 
			- aria-haspopup is required to let users know this button will expand a menu. 
			- aria-expanded is required to let the user know if the menu has been expanded or not.-->
			<a href="#" class="main-menu-button" aria-haspopup="true" aria-expanded="false">Menu</a>

			<ul class="main-menu">	
				<li>
					<a href="#" class="sub-menu-button" aria-haspopup="true" aria-expanded="false">Chickens</a>

					<ul class="sub-menu">
						<li><a href="#">Blue Giraffes</a></li>
						<li><a href="#">Purple Giraffes</a></li>
						<li><a href="#">Orange Giraffes</a></li>
					</ul>

				</li>
				<li><a href="#">Squids</a></li>
				<li>

					<a href="#" class="sub-menu-button" aria-haspopup="true" aria-expanded="false">Giraffes</a>

					<ul class="sub-menu">
						<li><a href="#">Blue Giraffes</a></li>
						<li><a href="#">Purple Giraffes</a></li>
						<li><a href="#">Orange Giraffes</a></li>
					</ul>

				</li>
				<li><a href="#">Bees</a></li>
			</ul>

		</nav>
	</header>

	<main>
		
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo ut odio magnam provident voluptatum consequatur esse repudiandae, explicabo magni sint praesentium saepe culpa quis eum sit cupiditate ducimus voluptatem neque illo. Quos aut iusto quaerat aliquid non perspiciatis autem rerum repellat quis doloribus ad minima dolore dolores, at dignissimos veritatis sit, distinctio ipsa labore mollitia totam similique nulla obcaecati cumque! Fugit commodi hic, vitae saepe atque, dicta, expedita fuga voluptatem sapiente repellat provident repudiandae facere labore maiores at exercitationem, eum perferendis veniam libero. Inventore reprehenderit, quaerat natus. Sit quo eos iusto, enim, ipsum doloribus. Consectetur ex nobis, repudiandae accusantium aut.</p>

	</main>

</body>
</html>