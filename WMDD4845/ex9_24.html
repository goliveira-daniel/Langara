<html>
  <head>
      <meta charset = "utf-8">
      <title>Ex 9.24</title>
      <script>
        function start()
        {
          var question = document.getElementById( "question" );
          generateQuestion();
          var button = document.getElementById( "calculateButton" );
          button.addEventListener( "click", displayAnswer, false );
        } // end function start

        function generateQuestion() {
          num1 = randomNumber(10);
          num2 = randomNumber(10);
          question.innerText = 'How much is ' + num1 + ' times ' + num2 + '?'
        }

        function displayAnswer()
        {
          var answer = document.getElementById( "answer" );
          var result = document.getElementById( "result" );
          tries++
          result.innerHTML = checkAnswer(num1, num2, parseInt(answer.value)) ? correctAnswer(randomNumber(4)) : wrongAnswer(randomNumber(4));
          if (tries == 10) {
            if (rightAnswer < 7) {result.innerHTML = 'Please ask your instructor for extra help'}
            tries = rightAnswer = 0; // sets variables back to initial state
          } else if (checkAnswer(num1, num2, parseInt(answer.value))) {
            generateQuestion()
          }
        }

        function correctAnswer(param) {
          rightAnswer++
          switch (param) {
            default:
            case 0: return 'Very good!'
            case 1: return 'Excellent!'
            case 2: return 'Nice work!'
            case 3: return 'Keep up the good work!'
          }
        }

        function wrongAnswer(param) {
          switch (param) {
            default:
            case 0: return 'No. Please try again'
            case 1: return 'Wrong. Try once more'
            case 2: return 'Dont give up'
            case 3: return 'No. Keep trying'
          }
        }

        function checkAnswer( multiplicand, multiplier, answer )
        {
          return multiplicand * multiplier == answer
        }

        function randomNumber(element) {
          return Math.floor(Math.random() * element)
        }

        var num1, num2, tries, rightAnswer;
        num1 = num2 = tries = rightAnswer = 0;
        window.addEventListener( "load", start, false );
      </script>
  </head>
  <body>
      <form action = "#">
        <p>
            <label id="question">
            </label>
            <input id = "answer" type = "number">
            <input id = "calculateButton" type = "button"  value = "Calculate">
        </p>
      </form>
      <p id = "result"></p>
  </body>
</html>

